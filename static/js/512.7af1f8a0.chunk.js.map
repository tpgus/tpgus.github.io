{"version":3,"file":"static/js/512.7af1f8a0.chunk.js","mappings":"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","sources":["webpack://codestates-fe-advanced-course/./src/components/Posts/css/Post.module.css?7a56","webpack://codestates-fe-advanced-course/./src/components/Comment/css/CommentList.module.css?21e3","components/Comment/CommentList.tsx","apis/api/comment.ts","components/Posts/Post.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"backdrop\":\"Post_backdrop__4q0BX\",\"post-container\":\"Post_post-container__XYC5K\",\"content\":\"Post_content__grXTN\",\"content-header\":\"Post_content-header__T+KfI\",\"author\":\"Post_author__PbHDn\",\"content-body\":\"Post_content-body__sILi-\",\"actions\":\"Post_actions__x-t30\",\"disabled\":\"Post_disabled__AjyNA\"};","// extracted by mini-css-extract-plugin\nexport default {\"comment-list\":\"CommentList_comment-list__i0Ri8\",\"comment-count\":\"CommentList_comment-count__LbuJC\",\"comment\":\"CommentList_comment__IhQM+\",\"comment-icon\":\"CommentList_comment-icon__CxZVe\",\"comment-profile\":\"CommentList_comment-profile__ckhj5\",\"comment-content\":\"CommentList_comment-content__+PHsU\"};","import styles from \"./css/CommentList.module.css\";\nimport { FaRegCommentDots } from \"react-icons/fa\";\n\ninterface PropsType {\n  comments: CommentType[];\n}\n\nfunction Comments({ comments }: PropsType) {\n  return (\n    <ul className={styles[\"comment-list\"]}>\n      <p>\n        <FaRegCommentDots className={styles[\"comment-icon\"]} />\n\n        <span\n          className={styles[\"comment-count\"]}\n        >{` Comments (${comments.length})`}</span>\n      </p>\n      {comments.map((comment) => (\n        <li key={comment.id} className={styles[\"comment\"]}>\n          <img\n            className={styles[\"comment-profile\"]}\n            src=\"https://static.nid.naver.com/images/web/user/default.png?type=s40\"\n            alt=\"profile\"\n          />\n          <div className={styles[\"comment-content\"]}>\n            <h4>{comment.name}</h4>\n            <p>{comment.body}</p>\n            <div>\n              <span>{comment.email}</span>\n            </div>\n          </div>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nexport default Comments;\n","import { axiosInstance } from \"../config\";\n\nexport const commentAPI = {\n  getCommentsOfPost: async (postId: number) => {\n    const response = await axiosInstance.get<CommentType[]>(\n      `/posts/${postId}/comments`\n    );\n    return response.data;\n  },\n};\n","import styles from \"./css/Post.module.css\";\nimport Card from \"../UI/Card\";\nimport Button from \"../UI/Button\";\nimport { useState, useEffect } from \"react\";\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\nimport CommentList from \"../Comment/CommentList\";\nimport { useAppSelector } from \"../../hooks/redux-hooks\";\nimport { useHttp } from \"../../hooks/use-http\";\nimport { commentAPI } from \"../../apis/api/comment\";\n\ninterface PropsType {\n  post: PostType;\n  onClose: () => void;\n}\nfunction Post(props: PropsType) {\n  const [currentPost, setCurrentPost] = useState(props.post);\n  const [currentPostIndex, setCurrentPostIndex] = useState(0);\n  const [prevButtonDisabled, setPrevButtonDisabled] = useState(false);\n  const [nextButtonDisabled, setNextButtonDisabled] = useState(false);\n  const { filteredPosts: posts } = useAppSelector((state) => state.post);\n\n  const {\n    sendRequest: getCommentsOfPost,\n    data: comments,\n    error,\n    isLoading,\n  } = useHttp<CommentType>(commentAPI.getCommentsOfPost);\n\n  useEffect(() => {\n    getCommentsOfPost(currentPost.id);\n  }, [currentPost.id, getCommentsOfPost]);\n\n  useEffect(() => {\n    let currentIndex = posts.findIndex((post) => post.id === currentPost.id);\n    if (currentIndex === 0) {\n      setPrevButtonDisabled(true);\n    }\n    if (currentIndex === posts.length - 1) {\n      setNextButtonDisabled(true);\n    }\n    setCurrentPostIndex(currentIndex);\n  }, [posts, currentPost.id]);\n\n  function prevButtonHandler() {\n    if (currentPostIndex === 0) {\n      setPrevButtonDisabled(true);\n      return;\n    }\n\n    let newCurrentPost = posts[currentPostIndex - 1];\n    setCurrentPost(newCurrentPost);\n    setCurrentPostIndex((currentIndex) => currentIndex - 1);\n    setNextButtonDisabled(false);\n  }\n\n  function nextButtonHandler() {\n    if (currentPostIndex === posts.length - 1) {\n      setNextButtonDisabled(true);\n      return;\n    }\n    let newCurrentPost = posts[currentPostIndex + 1];\n    setCurrentPost(newCurrentPost);\n    setCurrentPostIndex((currentIndex) => currentIndex + 1);\n    setPrevButtonDisabled(false);\n  }\n\n  return (\n    <>\n      <div className={styles[\"backdrop\"]} onClick={props.onClose}></div>\n      <Card className={styles[\"post-container\"]}>\n        <div className={styles[\"content\"]}>\n          <header className={styles[\"content-header\"]}>\n            <h1>{currentPost.title}</h1>\n            <div className={styles[\"author\"]}>\n              <span>{`작성자 ${currentPost.userId}`}</span>\n            </div>\n          </header>\n          <p className={styles[\"content-body\"]}>{currentPost.body}</p>\n        </div>\n        {isLoading && <LoadingSpinner />}\n        {!isLoading && error && <p>댓글을 불러오지 못했습니다.</p>}\n        {!isLoading && !error && <CommentList comments={comments} />}\n        <footer>\n          <span>{`${currentPostIndex + 1} / ${posts.length}개의 글`}</span>\n          <div className={styles[\"actions\"]}>\n            <Button\n              type=\"button\"\n              onClick={prevButtonHandler}\n              className={prevButtonDisabled ? styles[\"disabled\"] : \"\"}\n            >\n              이전 글\n            </Button>\n            <Button\n              type=\"button\"\n              onClick={nextButtonHandler}\n              className={nextButtonDisabled ? styles[\"disabled\"] : \"\"}\n            >\n              다음 글\n            </Button>\n            <Button type=\"button\" onClick={props.onClose}>\n              닫기\n            </Button>\n          </div>\n        </footer>\n      </Card>\n    </>\n  );\n}\n\nexport default Post;\n"],"names":["comments","className","styles","length","map","comment","src","alt","name","body","email","id","commentAPI","getCommentsOfPost","postId","axiosInstance","response","data","props","useState","post","currentPost","setCurrentPost","currentPostIndex","setCurrentPostIndex","prevButtonDisabled","setPrevButtonDisabled","nextButtonDisabled","setNextButtonDisabled","posts","useAppSelector","state","filteredPosts","useHttp","sendRequest","error","isLoading","useEffect","currentIndex","findIndex","onClick","onClose","Card","title","userId","LoadingSpinner","CommentList","Button","type","newCurrentPost"],"sourceRoot":""}