"use strict";(self.webpackChunkcodestates_fe_advanced_course=self.webpackChunkcodestates_fe_advanced_course||[]).push([[512],{3512:function(e,s,t){t.r(s),t.d(s,{default:function(){return S}});var n=t(8152),c="Post_backdrop__4q0BX",a="Post_post-container__XYC5K",o="Post_content__grXTN",r="Post_content-header__T+KfI",i="Post_author__PbHDn",l="Post_content-body__sILi-",d="Post_actions__x-t30",m="Post_disabled__AjyNA",u=t(1928),_=t(1114),h=t(2791),f=t(9558),x="CommentList_comment-list__i0Ri8",j="CommentList_comment-count__LbuJC",p="CommentList_comment__IhQM+",C="CommentList_comment-icon__CxZVe",v="CommentList_comment-profile__ckhj5",N="CommentList_comment-content__+PHsU",b=t(6355),g=t(184);var P=function(e){var s=e.comments;return(0,g.jsxs)("ul",{className:x,children:[(0,g.jsxs)("p",{children:[(0,g.jsx)(b.ajU,{className:C}),(0,g.jsx)("span",{className:j,children:" Comments (".concat(s.length,")")})]}),s.map((function(e){return(0,g.jsxs)("li",{className:p,children:[(0,g.jsx)("img",{className:v,src:"https://static.nid.naver.com/images/web/user/default.png?type=s40",alt:"profile"}),(0,g.jsxs)("div",{className:N,children:[(0,g.jsx)("h4",{children:e.name}),(0,g.jsx)("p",{children:e.body}),(0,g.jsx)("div",{children:(0,g.jsx)("span",{children:e.email})})]})]},e.id)}))]})},Z=t(4956),k=t(4018),y=t(8214),L=t(5861),w=t(2057),I={getCommentsOfPost:function(){var e=(0,L.Z)((0,y.Z)().mark((function e(s){var t;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.b.get("/posts/".concat(s,"/comments"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}()};var S=function(e){var s=(0,h.useState)(e.post),t=(0,n.Z)(s,2),x=t[0],j=t[1],p=(0,h.useState)(0),C=(0,n.Z)(p,2),v=C[0],N=C[1],b=(0,h.useState)(!1),y=(0,n.Z)(b,2),L=y[0],w=y[1],S=(0,h.useState)(!1),X=(0,n.Z)(S,2),q=X[0],A=X[1],E=(0,Z.C)((function(e){return e.post})).filteredPosts,H=(0,k.i)(I.getCommentsOfPost),K=H.sendRequest,O=H.data,R=H.error,T=H.isLoading;return(0,h.useEffect)((function(){K(x.id)}),[x.id,K]),(0,h.useEffect)((function(){var e=E.findIndex((function(e){return e.id===x.id}));0===e&&w(!0),e===E.length-1&&A(!0),N(e)}),[E,x.id]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:c,onClick:e.onClose}),(0,g.jsxs)(u.Z,{className:a,children:[(0,g.jsxs)("div",{className:o,children:[(0,g.jsxs)("header",{className:r,children:[(0,g.jsx)("h1",{children:x.title}),(0,g.jsx)("div",{className:i,children:(0,g.jsx)("span",{children:"\uc791\uc131\uc790 ".concat(x.userId)})})]}),(0,g.jsx)("p",{className:l,children:x.body})]}),T&&(0,g.jsx)(f.Z,{}),!T&&R&&(0,g.jsx)("p",{children:"\ub313\uae00\uc744 \ubd88\ub7ec\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."}),!T&&!R&&(0,g.jsx)(P,{comments:O}),(0,g.jsxs)("footer",{children:[(0,g.jsx)("span",{children:"".concat(v+1," / ").concat(E.length,"\uac1c\uc758 \uae00")}),(0,g.jsxs)("div",{className:d,children:[(0,g.jsx)(_.Z,{type:"button",onClick:function(){if(0!==v){var e=E[v-1];j(e),N((function(e){return e-1})),A(!1)}else w(!0)},className:L?m:"",children:"\uc774\uc804 \uae00"}),(0,g.jsx)(_.Z,{type:"button",onClick:function(){if(v!==E.length-1){var e=E[v+1];j(e),N((function(e){return e+1})),w(!1)}else A(!0)},className:q?m:"",children:"\ub2e4\uc74c \uae00"}),(0,g.jsx)(_.Z,{type:"button",onClick:e.onClose,children:"\ub2eb\uae30"})]})]})]})]})}}}]);
//# sourceMappingURL=512.7af1f8a0.chunk.js.map